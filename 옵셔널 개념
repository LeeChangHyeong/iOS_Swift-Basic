
옵셔널(Optional)이란?

- nil을 사용할 수 있는 타입과 사용할 수 없는 타입을 구분하고, 사용할 수 있는 타입을 가리켜 옵셔널 타입(Optional Type)이라고 부른다. 'nil은 값이 없음을 의미하는 특수한 값'

- nil을 사용하는 이유는 오류도 발생시키지 않고 뭔가 문제가 있었다는 것도 알려주기 위함

예를 들어 문자열 "123"을 Int형으로 바꾸려면


let num = Int("123")

이런 식으로 하면 된다 하지만 "123", "456"처럼 숫자로 바꿀 수 있는 문자열 대신 "Swift" 같은 문자열을 인자값으로 넣으면 오류가 난다. 오류가 나서 프로그램이 중단될 수 있지만 num이 Optional Type이라면 오류가 나지않고 nil값이 된다


let num = Int("Swift") //nil

중요!!

- 문자열이나 정수같은 일반 자료형에는 nil값을 대입하지 못함


var result : Int? = nil
// 오류남

- 함수에서 값을 반환할 때에도 마찬가지다. 함수는 반환 타입이 전해져 있기 때문에 항상 그타입에 맞는 값을 반환해야 하는데, 처리 과정이 실패했을 경우에는 nil을 반환하게 된다. 하지만 일반 자료형에는 nil값을 할당할 수 없기 때문에 오류가 난다. 이때 사용하는 것이 옵셔널 타입(Optional Type)이다.

- 옵셔널 타입(Optional Type)으로 선언된 자료형은 nil값 저장 할 수 있다. 그러므로 오류가 발생할 가능성이 있다면 반환 타입을 반드시 옵셔널 타입으로 설정해야 한다.

- 옵셔널 타입이 가질 수 있는 값의 종류는 'nil이 아닌 값'(오류 아닐때), 'nil 값'(오류)

- 처리 과정에 문제가 있었다면 nil 반환, 처리가 성공했다면 옵셔널 객체로 감싸진 결과값 반환

Ex)


Int("123") 결과값 -> Optional(123)
Int("안녕하세요") 결과값 -> nil

- 'Optional(123)' 이렇게 옵셔널 타입(Optional Type)으로 둘러싸여 있는 것을 옵셔널 래핑(Optional Wrapping)이라고 한다.

- 'Optional(123)' 같은 값은 옵셔널 언래핑(Optional Unwrapping)을 통해 옵셔널 타입을 해제하고 실제 값을 추출하여 사용해야 한다. 하지만 실패하여 값이 nil이라면 옵셔널 타입을 해제해서는 안된다.

﻿
